<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Changelog</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="assets/fonts.css">
        <link rel="stylesheet" href="assets/graphite.css">
        <link rel="stylesheet" href="assets/pygments.css">
        
        
    </head>
    <body class="node-changelog node">
        <header class="masthead">
            <h1><a href="index.html">Ivy</a></h1>
            
            <p class="tagline">Ivy is a static website generator built in Python. It transforms a directory of
text files into a self-contained website.</p>
            
            
            <p class="version">Version 3.0.0</p>
            
            <nav class="menu">
                <input id="menu-check" type="checkbox"/>
                <label id="menu-label" for="menu-check" class="unselectable">
                    <span class="icon close-icon">✕</span>
                    <span class="icon open-icon">☰</span>
                    <span class="text">Menu</span>
                </label>
                <ul>
<li>
<a href="index.html">Home</a>
</li>
<li>
<a href="quickstart.html">Quickstart</a>
</li>
<li>
<a href="sites.html">Sites</a>
</li>
<li>
<a href="themes.html">Themes</a>
</li>
<li>
<a href="extensions.html">Extensions</a>
</li>
<li>
<a href="shortcodes.html">Shortcodes</a>
</li>
<li>
<a href="faq.html">FAQ</a>
</li>
<li>
<a href="changelog.html">Changelog</a>
</li>
<li>
<a href="license.html">License</a>
</li>
<li>
<a href="https://github.com/dmulholl/ivy">Github</a>
</li>
</ul>
            </nav>
        </header>
        <article class="main">
            <header class="title">
                <h1>Changelog</h1>
                
                <hr>
            </header>
            <h3 id="id-3-0-0">
3.0.0
</h3>
<ul>
<li>
Most changes in this release are internal and won't affect existing sites or themes. Extensions will need to be updated but the required changes should be minor.
</li>
<li>
One small change which may affect themes &mdash; the <code>classes</code> list for the <code>&lt;body&gt;</code> element is now a list of strings rather than a single string. These strings can be concatenated using a template filter as demonstrated in the bundled <code>graphite</code> theme.
</li>
<li>
The most significant change for extensions is that the <code>hooks</code> module has been split into two separate modules, <code>events</code> and <code>filters</code>, to make its operation clearer and conceptually simpler. Existing <code>@hooks.register()</code> decorators in extensions will need to be renamed to either <code>@events.register()</code> or <code>@filters.register()</code> but should otherwise work unchanged.
</li>
<li>
This release switches to a new library for parsing command line arguments, <a href="http://github.com/dmulholl/argslib">argslib</a>. The command line interface has also been simplified by removing all options for customizing site directories (<code>src</code>, <code>out</code>, etc.). These directories can now be customized from the site's <code>config.py</code> file.
</li>
<li>
The default build routine has been moved to its own module, <code>ivy/build.py</code>.
</li>
<li>
In general, code has been ruthlessly simplified wherever possible. In particular, the internal structure of the node tree is now significantly simpler.
</li>
<li>
URL path slugs are now customizable and no longer tied to filenames. The slug can be customized by adding a <code>slug</code> attribute to the node's metadata.
</li>
<li>
The <code>tree</code> command for inspecting site structure has been substantially enhanced.
</li>
<li>
A convenience command, <code>make</code>, has been added for creating new node files.
</li>
<li>
<code>@root/</code> urls in angle brackets are no longer rewritten. This "feature" was a solution in search of a problem.
</li>
<li>
The <code>nodes.node()</code> function now takes an <code>@root/</code> url and returns the corresponding <code>Node</code> instance.
</li>
<li>
The <code>is_homepage</code> flag has been moved to the root page dictionary. The <code>flags</code> dictionary has been removed.
</li>
<li>
The <code>debug</code> theme has been redesigned.
</li>
<li>
The <code>renderers</code> module now defaults to passing unregistered text formats through unchanged.
</li>
<li>
The <code>Node.init()</code> method has been replaced by <code>Node.render()</code>. The <code>init_node</code> and <code>init_tree</code> event hooks have been removed.
</li>
<li>
The <code>Page.render()</code> method has been renamed <code>Page.write()</code>.
</li>
<li>
The sample shortcode extension has been replaced by a set of examples in the documentation.
</li>
<li>
The <a href="https://github.com/dmulholl/shortcodes">shortcodes</a> dependency version has been upgraded to 3.0. Shortcode handler functions will need to be updated to reflect the updated API.
</li>
<li>
A <code>build_node</code> filter has been added to the default build routine in <code>ivy/build.py</code>. This filter can be used as a switch to determine which nodes get turned into pages.
</li>
<li>
Two new filters, <code>load_node_dir</code> and <code>load_node_file</code>, have been added in <code>ivy/nodes.py</code>. These filters can be used as switches to determine which files and directories in <code>src</code> get parsed as nodes.
</li>
<li>
The <code>includes.py</code> module has been replaced by a <code>site.includes()</code> function.
</li>
<li>
The <code>urls.py</code> module has been replaced by a <code>utils.rewrite_urls()</code> function.
</li>
<li>
The <code>loader.py</code> module has been replaced by a <code>utils.loadfile()</code> function.
</li>
</ul>
<h3 id="id-2-10-0">
2.10.0
</h3>
<ul>
<li>
Update the required Python version to 3.8.
</li>
<li>
Make the shortcodes package an optional dependency.
</li>
<li>
Simplify the sample site configuration file.
</li>
</ul>
<h3 id="id-2-9-0">
2.9.0
</h3>
<ul>
<li>
Check for a <code>.py</code> extension before attempting to load files from the extensions directory.
</li>
<li>
Update the <code>graphite</code> theme's footnote and infobox styles.
</li>
</ul>
<h3 id="id-2-8-0">
2.8.0
</h3>
<ul>
<li>
Add a <code>menu_exclude</code> option to omit nodes from automatically-generated menus.
</li>
</ul>
<h3 id="id-2-7-0">
2.7.0
</h3>
<ul>
<li>
Simpler directory structure for newly initialized sites.
</li>
<li>
The sample shortcode plugin has been moved into core.
</li>
</ul>
<h3 id="id-2-6-0">
2.6.0
</h3>
<ul>
<li>
Add a <code>--port</code> option to the <code>watch</code> command to set the port number the test server will run on.
</li>
</ul>
<h3 id="id-2-5-0">
2.5.0
</h3>
<ul>
<li>
Remove SSL support from the test server.
</li>
</ul>
<h3 id="id-2-4-0">
2.4.0
</h3>
<ul>
<li>
Improved error handling and reporting for extension errors.
</li>
<li>
Add a <code>version</code> tag to the <code>graphite</code> theme.
</li>
<li>
The YAML extension now uses the <code>safe_load()</code> function to parse file headers.
</li>
<li>
Add colored output for the <code>tree</code> command.
</li>
<li>
Update the skeleton site to support Syntext 2.0.
</li>
<li>
Files with a <code>.stx</code> or <code>.sxt</code> extension will be rendered as Syntext.
</li>
<li>
Files with a <code>.mk</code> or <code>.monk</code> extension will no longer be rendered as Syntext.
</li>
</ul>
<h3 id="id-2-3-0">
2.3.0
</h3>
<ul>
<li>
The cache file is now stored in <code>%LOCALAPPDATA%</code> instead of the user's home directory on Windows.
</li>
</ul>
<h3 id="id-2-2-0">
2.2.0
</h3>
<ul>
<li>
Add Windows support for colored terminal output.
</li>
<li>
Update Ivy to reflect the Monk to Syntext name change. Old <code>.monk</code> and <code>.mk</code> files will continue to work.
</li>
<li>
Small improvements to mobile styles for the <code>graphite</code> theme.
</li>
</ul>
<h3 id="id-2-1-0">
2.1.0
</h3>
<ul>
<li>
Add colored terminal output.
</li>
</ul>
<h3 id="id-2-0-0">
2.0.0
</h3>
<ul>
<li>
Add Python 3.6 type hints throughout the codebase.
</li>
<li>
Update the minimum required Python version to 3.6.
</li>
<li>
Remove the <code>vanilla</code> theme from the default distribution.
</li>
<li>
Update the <code>debug</code> theme.
</li>
<li>
Refactor modules to clarify the distinction between public and private interfaces. Private methods and variables now have names beginning with an underscore.
</li>
<li>
The default build process now skips empty nodes, i.e. nodes that correspond to a directory without an associated source file.
</li>
<li>
Add Windows support for the <code>watch</code> command.
</li>
<li>
Ivy now uses the presence of either a <code>config.py</code> file or a hidden <code>.ivy</code> file to identify a site's home directory.
</li>
</ul>
<h3 id="id-1-3-0">
1.3.0
</h3>
<ul>
<li>
Remove deprecated support for source files in Syntex format.
</li>
<li>
Minor improvements to <code>graphite</code> theme styles.
</li>
</ul>
<h3 id="id-1-2-0">
1.2.0
</h3>
<ul>
<li>
Add a sample plugin to the skeleton site's <code>ext</code> directory that registers an <code>[% include %]</code> shortcode.
</li>
</ul>
<h3 id="id-1-1-0">
1.1.0
</h3>
<ul>
<li>
Refactor url rewriting as a separate module.
</li>
<li>
Fix a Windows bug in the algorithm for finding the site's home directory.
</li>
<li>
Remove deprecated support for <code>site.py</code> site configuration files. These files should be renamed to <code>config.py</code>.
</li>
</ul>
<h3 id="id-1-0-0">
1.0.0
</h3>
<ul>
<li>
First stable release. Future releases will adhere to <a href="http://semver.org">semantic versioning</a> for changes which affect the theme or plugin API.
</li>
<li>
This release adds support for Monk files with a <code>.mk</code> extension.
</li>
<li>
The default port for the <code>serve</code> command has been changed from <code>0</code> to <code>8080</code>.
</li>
<li>
The <code>watch</code> command now automatically launches the test server to view the site.
</li>
<li>
We revert to the original algorithm for locating and rewriting <code>@root/</code> urls, i.e. only urls enclosed in quotes or angle brackets will be rewritten. (Quotes are preserved, angle brackets evaporate.)
</li>
</ul>
<h3 id="id-0-9-0">
0.9.0
</h3>
<ul>
<li>
Ivy has been updated to support Monk 1.0, the markup language previously named Syntex. Old <code>.stx</code> files will continue to be supported.
</li>
</ul>
<h3 id="id-0-8-0">
0.8.0
</h3>
<ul>
<li>
The argument-parsing library for the command line interface has been changed
from Clio to Janus.
</li>
<li>
The default <code>graphite</code> theme now supports a meta description tag.
</li>
</ul>
<h3 id="id-0-7-0">
0.7.0
</h3>
<ul>
<li>
The algorithm for locating and rewriting <code>@root/</code> urls has been changed. Previously only <code>@root/</code> urls enclosed in quotes or angle brackets were rewritten; now all <code>@root/</code> urls are rewritten unless escaped by a preceding backslash.
</li>
</ul>
<h3 id="id-0-6-0">
0.6.0
</h3>
<ul>
<li>
The site configuration file has been renamed from <code>site.py</code> to <code>config.py</code>. Old <code>site.py</code> files will continue to be recognised. (Some Python installations were confusing the <code>site.py</code> file with the standard library's <code>site</code> module, causing the interpreter to crash when Ivy was run from the site directory.)
</li>
</ul>
        </article>
        
    </body>
</html>
